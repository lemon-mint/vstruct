import 'package:primitive/primitive.dart';
import 'dart:typed_data';
import 'dart:convert';

// Code generated by vstruct. DO NOT EDIT.
// Package Name: main

enum Speices {
	Human,
	Elf,
	Orc,
	Dwarf,
	Gnome,
	Halfling,
	HalfElf,
	HalfOrc,
	Dragonborn,
	Tiefling,
	Gnoll,
	Goblin,
}

enum ItemType {
	Weapon,
	Armor,
	Potion,
}

class Coordinate {
  Uint8List vstruct__buf = Uint8List(0);

  Coordinate(I64 X, I64 Y) {
    int __vstruct__size = 16;
    vstruct__buf = Uint8List(__vstruct__size);
    vstruct__buf = Serialize(vstruct__buf, X, Y);
  }

  int get lengthInBytes => vstruct__buf.lengthInBytes;

  Uint8List as_bytes_mut() {
    return vstruct__buf;
  }

  Coordinate.fromBytes(Uint8List b) {
    vstruct__buf = b;
  }

  Uint8List Serialize(Uint8List dst, I64 X, I64 Y) {
    Uint8List __tmp_0 = X.toBytes();
    for (int i = 0; i < 8; i++) {
      dst[0 + i] = __tmp_0[i];
    }

    Uint8List __tmp_1 = Y.toBytes();
    for (int i = 0; i < 8; i++) {
      dst[8 + i] = __tmp_1[i];
    }

    return dst;
  }

  I64 X() {
    I64 _value = I64.fromBytes(vstruct__buf.sublist(0, 8));
    return _value;
  }

  I64 Y() {
    I64 _value = I64.fromBytes(vstruct__buf.sublist(8, 16));
    return _value;
  }

}

class Item {
  Uint8List vstruct__buf = Uint8List(0);

  Item(ItemType Type, I64 Damage, I64 Armor, String Name) {
    int __vstruct__size = 25 + Name.length;
    vstruct__buf = Uint8List(__vstruct__size);
    vstruct__buf = Serialize(vstruct__buf, Type, Damage, Armor, Name);
  }

  int get lengthInBytes => vstruct__buf.lengthInBytes;

  Uint8List as_bytes_mut() {
    return vstruct__buf;
  }

  Item.fromBytes(Uint8List b) {
    vstruct__buf = b;
  }

  Uint8List Serialize(Uint8List dst, ItemType Type, I64 Damage, I64 Armor, String Name) {
    dst[0] = Type.index;

    Uint8List __tmp_1 = Damage.toBytes();
    for (int i = 0; i < 8; i++) {
      dst[1 + i] = __tmp_1[i];
    }

    Uint8List __tmp_2 = Armor.toBytes();
    for (int i = 0; i < 8; i++) {
      dst[9 + i] = __tmp_2[i];
    }

    U64 __index = U64(25);
    Uint8List __tmp_3 = (U64(Name.length) + __index).toBytes();
    for (int i = 0; i < 8; i++) {
      dst[17 + i] = __tmp_3[i];
    }
    List<int> __tmp_4 = utf8.encode(Name);
    Uint8List __tmp_5 = Uint8List.fromList(__tmp_4);
    for (int i = 0; i < Name.length; i++) {
      dst[(__index + U64(i)).value.toInt()] = __tmp_5[i];
    }
    return dst;
  }

  ItemType Type() {
    return ItemType.values[vstruct__buf[0]];
  }

  I64 Damage() {
    I64 _value = I64.fromBytes(vstruct__buf.sublist(1, 9));
    return _value;
  }

  I64 Armor() {
    I64 _value = I64.fromBytes(vstruct__buf.sublist(9, 17));
    return _value;
  }

}

class Inventory {
  Uint8List vstruct__buf = Uint8List(0);

  Inventory(Item RightHand, Item LeftHand) {
    int __vstruct__size = 16 + RightHand.lengthInBytes + LeftHand.lengthInBytes;
    vstruct__buf = Uint8List(__vstruct__size);
    vstruct__buf = Serialize(vstruct__buf, RightHand, LeftHand);
  }

  int get lengthInBytes => vstruct__buf.lengthInBytes;

  Uint8List as_bytes_mut() {
    return vstruct__buf;
  }

  Inventory.fromBytes(Uint8List b) {
    vstruct__buf = b;
  }

  Uint8List Serialize(Uint8List dst, Item RightHand, Item LeftHand) {
    U64 __index = U64(16);
    Uint8List __tmp_0 = (U64(RightHand.lengthInBytes) + __index).toBytes();
    for (int i = 0; i < 8; i++) {
      dst[0 + i] = __tmp_0[i];
    }
    Uint8List __tmp_1 = RightHand.as_bytes_mut();
    for (int i = 0; i < RightHand.lengthInBytes; i++) {
      dst[(__index + U64(i)).value.toInt()] = __tmp_1[i];
    }
    __index = __index + U64(RightHand.lengthInBytes);
    Uint8List __tmp_2 = (U64(LeftHand.lengthInBytes) + __index).toBytes();
    for (int i = 0; i < 8; i++) {
      dst[8 + i] = __tmp_2[i];
    }
    Uint8List __tmp_3 = LeftHand.as_bytes_mut();
    for (int i = 0; i < LeftHand.lengthInBytes; i++) {
      dst[(__index + U64(i)).value.toInt()] = __tmp_3[i];
    }
    return dst;
  }

}

class Entity {
  Uint8List vstruct__buf = Uint8List(0);

  Entity(Speices Type, Coordinate Position, I64 Hp, UUID Id, Inventory Inventory) {
    int __vstruct__size = 41 + Id.length + Inventory.lengthInBytes;
    vstruct__buf = Uint8List(__vstruct__size);
    vstruct__buf = Serialize(vstruct__buf, Type, Position, Hp, Id, Inventory);
  }

  int get lengthInBytes => vstruct__buf.lengthInBytes;

  Uint8List as_bytes_mut() {
    return vstruct__buf;
  }

  Entity.fromBytes(Uint8List b) {
    vstruct__buf = b;
  }

  Uint8List Serialize(Uint8List dst, Speices Type, Coordinate Position, I64 Hp, UUID Id, Inventory Inventory) {
    dst[0] = Type.index;

    Uint8List __tmp_1 = Position.as_bytes_mut();
    for (int i = 0; i < Position.lengthInBytes; i++) {
      dst[1 + i] = __tmp_1[i];
    }

    Uint8List __tmp_2 = Hp.toBytes();
    for (int i = 0; i < 8; i++) {
      dst[17 + i] = __tmp_2[i];
    }

    U64 __index = U64(41);
    Uint8List __tmp_3 = (U64(Id.length) + __index).toBytes();
    for (int i = 0; i < 8; i++) {
      dst[25 + i] = __tmp_3[i];
    }
    List<int> __tmp_4 = utf8.encode(Id);
    Uint8List __tmp_5 = Uint8List.fromList(__tmp_4);
    for (int i = 0; i < Id.length; i++) {
      dst[(__index + U64(i)).value.toInt()] = __tmp_5[i];
    }
    __index = __index + U64(Id.length);
    Uint8List __tmp_6 = (U64(Inventory.lengthInBytes) + __index).toBytes();
    for (int i = 0; i < 8; i++) {
      dst[33 + i] = __tmp_6[i];
    }
    Uint8List __tmp_7 = Inventory.as_bytes_mut();
    for (int i = 0; i < Inventory.lengthInBytes; i++) {
      dst[(__index + U64(i)).value.toInt()] = __tmp_7[i];
    }
    return dst;
  }

  Speices Type() {
    return Speices.values[vstruct__buf[0]];
  }

  Coordinate Position() {
    return Coordinate.fromBytes(vstruct__buf.sublist(1, 17));
  }

  I64 Hp() {
    I64 _value = I64.fromBytes(vstruct__buf.sublist(17, 25));
    return _value;
  }

}

typedef UUID = String;

